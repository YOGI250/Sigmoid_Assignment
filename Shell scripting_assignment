Create a Script file named script.sh
STEP 1:
Defines the configuration file to be modified
Defines allowed values for user input

#!/bin/bash

CONF_FILE="sig.conf"

valid_components=("INGESTOR" "JOINER" "WRANGLER" "VALIDATOR")
valid_scales=("MID" "HIGH" "LOW")
valid_views=("Auction" "Bid")


STEP 2:
Input Validation Function

function validate() {
    local input="$1"
    shift
    local arr=("$@")

    for val in "${arr[@]}"; do
        if [[ "$input" == "$val" ]]; then
            return 0
        fi
    done
    return 1
}

Step 3:
Collecting and Validating User input:

read -p "Enter Component Name [INGESTOR/JOINER/WRANGLER/VALIDATOR]: " comp
validate "$comp" "${valid_components[@]}" || exit 1

read -p "Enter Scale [MID/HIGH/LOW]: " scale
validate "$scale" "${valid_scales[@]}" || exit 1

read -p "Enter View [Auction/Bid]: " view
validate "$view" "${valid_views[@]}" || exit 1

Step 4:
Preparing Search Pattern & New Entry:

search_pattern="$view ; $scale ; $comp"
new_line="$view ; $scale ; $comp ; ETL ; vdopia-etl=$count"

Step 5:
Updating the Configuration File sing sed:

sed -i "0,/$search_pattern/s/.*/$new_line/" "$CONF_FILE"


Step 6:
Confrmation output:

echo "Configuration updated successfully."


